{% extends 'base.html' %}

{% block content %}
<h1>user data</h1>
<h1>{{ user.name }}</h1>
<h1>{{ user.id }}</h1>

<!-- not working -->
<h1>days:</h1>

<div class="days-wrapper">
    {% for day in days %}
    <a href="/day/{{ user.id }}/{{ day.day }}">
        <h2> {{ day.day }} </h2>
    </a>
    {% endfor %}
</div>

<div class="cals-wrapper">
    <div class="cals">
        <div>
            <!-- Checking to see if there is a calorie value for that day -->
            {% if calories[0] %}
            <h1>Target: {{ calories[0] }}</h1>
            {% else %}
            <h1>Enter kcal for {{ day }}</h1>
            {% endif %}

            <form action="/calories/{{ user.id }}/{{ day }}" method="POST">
                <input type="number" placeholder="Calories for {{ day }}" min="1" max="10000" class="calorie-btn"
                    name="target_calories" required>
                <button>Confirm</button>
            </form>
        </div>
        <div class="ate-and-eat-text">
            <h3>ATE 500</h3>
            <h3>EAT 2500</h3>
        </div>
    </div>
</div>







<h1>Past entries</h1>

<div class="food-wrapper">
    {% for food in unassigned_foods %}
    <div class="food-container">
        <div class="food-container-inner">
            <form action="/foods/add/{{ user.id }}/{{ day }}/{{ food.id }}" method="POST">
                <label for="day_id">add to day:</label>
                <select name="day_id" id="day_id">
                    {% for day in days %}
                    <option value="{{day.id}}">{{day.day}}</option>
                    {% endfor %}
                </select>
                <button>
                    <i class="fa-solid fa-circle-plus"></i>
                </button>
            </form>
            <h2> {{food.name}} </h2>
            <h2> {{food.calories}} </h2>
            <h2> {{food.food_type}} </h2>
            <h2> {{food.id}} </h2>
            <div class="edit-remove-btn">
                <button>edit</button>
                <button>remove</button>
            </div>
        </div>
    </div>
    {% endfor %}
</div>


<!-- Finish this after you do days -->
<form action="/foods/new/{{ user.id }}/{{ day }}" method="POST">
    <br>
    <h2>Create new food:</h2>
    <label for="name">Food name: </label>
    <input type="text" id="name" name="name" required>

    <label for="calories">Number of kcals: </label>
    <input type="number" id="calories" name="calories" required>

    <label for="type">Food type</label>
    <select name="food_type" id="type" required>
        <option value="main">main</option>
        <option value="fruit">fruit</option>
        <option value="drink">drink</option>
        <option value="sweets">sweets</option>
        <option value="sweets">sweets</option>
        <option value="other">other</option>
    </select>

    <button>Create</button>
</form>

{% endblock content %}